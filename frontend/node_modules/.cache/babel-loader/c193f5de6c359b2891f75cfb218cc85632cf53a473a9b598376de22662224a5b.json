{"ast":null,"code":"\"use client\";import{useState,useRef,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useAuth}from\"../context/AuthContext\";import{FaSignOutAlt,FaUserCircle}from\"react-icons/fa\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{var _user$name;const{logout,user}=useAuth();const navigate=useNavigate();const[dropdownOpen,setDropdownOpen]=useState(false);const[logoutMessage,setLogoutMessage]=useState(\"\");// State for logout message\nconst dropdownRef=useRef(null);const handleLogout=()=>{logout();setLogoutMessage(\"You have logged out successfully\");// Set the logout message\nsetTimeout(()=>{setLogoutMessage(\"\");// Clear the message after 3 seconds\nnavigate(\"/login\");},3000);};// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=e=>{if(dropdownRef.current&&!dropdownRef.current.contains(e.target)){setDropdownOpen(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[]);return/*#__PURE__*/_jsx(\"nav\",{className:\"bg-green-800 text-white shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.png\",alt:\"AgroNeo Logo\",className:\"h-16 w-auto\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-3xl font-bold\",children:\"AgroNeo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:flex space-x-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"px-2 py-1 transition duration-30 hover:text-black hover:underline underline-offset-4\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/marketplace\",className:\"px-2 py-1 transition duration-30 hover:text-black hover:underline underline-offset-4\",children:\"Marketplace\"}),/*#__PURE__*/_jsx(Link,{to:\"/government-schemes\",className:\"px-2 py-1 transition duration-30 hover:text-black hover:underline underline-offset-4\",children:\"Government Schemes\"}),/*#__PURE__*/_jsx(Link,{to:\"/expert-talk\",className:\"px-2 py-1 transition duration-30 hover:text-black hover:underline underline-offset-4\",children:\"Expert Talk\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:dropdownRef,children:[user&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDropdownOpen(prev=>!prev),className:\"flex items-center justify-center w-15 h-15 rounded-full bg-green-600 hover:bg-green-500 transition\",children:/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center justify-center text-white font-bold text-2xl uppercase w-16 h-16\",children:((_user$name=user.name)===null||_user$name===void 0?void 0:_user$name[0])||/*#__PURE__*/_jsx(FaUserCircle,{size:30})})}),dropdownOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg py-2 z-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 text-gray-800 border-b\",children:[\"Signed in as \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:user.name})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"w-full text-left px-4 py-2 text-red-600 hover:bg-red-100 flex items-center\",children:[/*#__PURE__*/_jsx(FaSignOutAlt,{className:\"mr-2\"}),\" Logout\"]})]})]})]}),logoutMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 text-white text-center py-2 mt-2\",children:logoutMessage})]})});};export default Navbar;","map":{"version":3,"names":["useState","useRef","useEffect","Link","useNavigate","useAuth","FaSignOutAlt","FaUserCircle","jsx","_jsx","jsxs","_jsxs","Navbar","_user$name","logout","user","navigate","dropdownOpen","setDropdownOpen","logoutMessage","setLogoutMessage","dropdownRef","handleLogout","setTimeout","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","className","children","src","alt","to","ref","onClick","prev","name","size"],"sources":["D:/CEP_Project/AgroNeo/frontend/src/components/Navbar.js"],"sourcesContent":["\"use client\"\nimport { useState, useRef, useEffect } from \"react\"\nimport { Link, useNavigate } from \"react-router-dom\"\nimport { useAuth } from \"../context/AuthContext\"\nimport { FaSignOutAlt, FaUserCircle } from \"react-icons/fa\"\n\nconst Navbar = () => {\n  const { logout, user } = useAuth()\n  const navigate = useNavigate()\n  const [dropdownOpen, setDropdownOpen] = useState(false)\n  const [logoutMessage, setLogoutMessage] = useState(\"\") // State for logout message\n  const dropdownRef = useRef(null)\n\n  const handleLogout = () => {\n    logout()\n    setLogoutMessage(\"You have logged out successfully\") // Set the logout message\n    setTimeout(() => {\n      setLogoutMessage(\"\") // Clear the message after 3 seconds\n      navigate(\"/login\")\n    }, 3000)\n  }\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\n        setDropdownOpen(false)\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside)\n  }, [])\n\n  return (\n    <nav className=\"bg-green-800 text-white shadow-lg\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex justify-between items-center py-4\">\n          {/* Logo & Brand */}\n          <div className=\"flex items-center space-x-2\">\n            <img src=\"/images/logo.png\" alt=\"AgroNeo Logo\" className=\"h-16 w-auto\" />\n            <Link to=\"/\" className=\"text-3xl font-bold\">\n              AgroNeo\n            </Link>\n          </div>\n\n          {/* Nav Links */}\n          <div className=\"hidden md:flex space-x-6\">\n  <Link to=\"/\" className=\"px-2 py-1 transition duration-30 hover:text-black hover:underline underline-offset-4\">\n    Home\n  </Link>\n  <Link to=\"/marketplace\" className=\"px-2 py-1 transition duration-30 hover:text-black hover:underline underline-offset-4\">\n    Marketplace\n  </Link>\n  <Link to=\"/government-schemes\" className=\"px-2 py-1 transition duration-30 hover:text-black hover:underline underline-offset-4\">\n    Government Schemes\n  </Link>\n  <Link to=\"/expert-talk\" className=\"px-2 py-1 transition duration-30 hover:text-black hover:underline underline-offset-4\">\n    Expert Talk\n  </Link>\n</div>\n\n\n\n          {/* Avatar & Dropdown */}\n          <div className=\"relative\" ref={dropdownRef}>\n            {user && (\n              <button\n                onClick={() => setDropdownOpen((prev) => !prev)}\n                className=\"flex items-center justify-center w-15 h-15 rounded-full bg-green-600 hover:bg-green-500 transition\"\n              >\n                {/* If user has profile image use <img>, else fallback */}\n                <span className=\"flex items-center justify-center text-white font-bold text-2xl uppercase w-16 h-16\">\n                  {user.name?.[0] || <FaUserCircle size={30} />}\n                </span>\n              </button>\n            )}\n\n            {/* Dropdown Menu */}\n            {dropdownOpen && (\n              <div className=\"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg py-2 z-50\">\n                <div className=\"px-4 py-2 text-gray-800 border-b\">Signed in as <br /><strong>{user.name}</strong></div>\n                <button\n                  onClick={handleLogout}\n                  className=\"w-full text-left px-4 py-2 text-red-600 hover:bg-red-100 flex items-center\"\n                >\n                  <FaSignOutAlt className=\"mr-2\" /> Logout\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Logout message */}\n        {logoutMessage && (\n          <div className=\"bg-green-500 text-white text-center py-2 mt-2\">\n            {logoutMessage}\n          </div>\n        )}\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}